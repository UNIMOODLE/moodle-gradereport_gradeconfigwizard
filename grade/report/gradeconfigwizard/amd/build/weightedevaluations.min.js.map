{"version":3,"file":"weightedevaluations.min.js","sources":["../src/weightedevaluations.js"],"sourcesContent":["import $ from 'jquery';\n\n/* START: VARIABLES */\n\nlet weightedevaluationtable = document.getElementById('weightedevaluations-table');\nlet weightedevaluationtablebody = weightedevaluationtable.getElementsByTagName('tbody')[0];\n\nlet addcategorybtn = document.getElementById('weightedevaluations-category-create-btn');\n\nlet gradeitemsmodal = document.querySelector('#available-gradeitems-modal-id');\nlet gradeitemsmodalacceptbutton = gradeitemsmodal.querySelector('.confirm');\n\nlet evaluationsform = document.getElementById('evaluationsform');\n\n/* END: VARIABLES */\n\n/* START: TEMPLATES */\n\nconst categoryrowhtml = (randomid, categoryname, extradatacells) => `\n<tr id=\"${randomid}\" data-randomid=\"${randomid}\" data-rowtype=\"category\">\n  <td class=\"category\" rowspan=\"3\">\n    ${categoryname}\n  </td>\n  ${extradatacells}\n</tr>\n`;\n\nconst removeitemiconhtml = (randomid) => `\n<i class=\"fa fa-fw fa-trash-o icon remove-item-icon\" data-randomid=\"${randomid}\" \ntitle=\"Remove element\" role=\"img\" aria-label=\"Remove element\"></i>\n`;\n\nconst categoryweightcellhtml = `\n<td class=\"weight-1\" rowspan=\"3\">\n  <input type=\"number\" name=\"weight-1\" size=\"4\" value=\"1\">\n</td>\n`;\n\nconst addsubcategorybuttonrowhtml = (randomid) => `\n<tr data-randomid=\"${randomid}\" data-rowtype=\"subcategory\">\n  <td class=\"subcategory add-btn\" rowspan=\"2\">\n    <button type=\"button\" class=\"add-subcategory-btn align-items-center block-add btn btn-secondary d-flex\">\n      <span class=\"pluscontainer icon-no-margin icon-size-3 d-flex p-2 mr-3\">\n          <i class=\"icon fa fa-plus fa-fw\" aria-hidden=\"true\"></i>\n      </span>\n      <span>Añadir itinerario</span>\n    </button>\n  </td>\n</tr>\n`;\n\nconst subcategoryrowhtml = (randomid, subrandomid) => `\n<tr id=\"'${subrandomid}\" data-randomid=\"${randomid}\" data-subrandomid=\"${subrandomid}\" data-rowtype=\"subcategory\">\n  <td class=\"subcategory\" rowspan=\"2\">\n    <input name=\"subcategoryname\" value=\"\">${removeitemiconhtml(randomid)}\n  </td>\n</tr>\n`;\n\nconst addsubcategorygradeitembuttonrowhtml = (randomid, subrandomid) => `\n<tr data-randomid=\"${randomid}\" data-subrandomid=\"${subrandomid}\" data-rowtype=\"subcategorygradeitem\">\n  <td class=\"subcategorygradeitem add-btn\">\n    <button type=\"button\"\n      class=\"add-subcategorygradeitem-btn align-items-center block-add btn btn-secondary d-flex\"\n      data-gradeitemaddtarget=\"subcategorygradeitem\"\n      data-toggle=\"modal\"\n      data-target=\"#available-gradeitems-modal-id\">\n      <span class=\"pluscontainer icon-no-margin icon-size-3 d-flex p-2 mr-3\">\n          <i class=\"icon fa fa-plus fa-fw\" aria-hidden=\"true\"></i>\n      </span>\n      <span>Añadir elementos</span>\n    </button>\n  </td>\n  <td class=\"weight-2\">\n  </td>\n</tr>\n`;\n\nconst addsubcategorygradeitememptyrowhtml = (randomid, subrandomid) => `\n<tr data-randomid=\"${randomid}\" data-subrandomid=\"${subrandomid}\" data-rowtype=\"subcategorygradeitem\">\n  <td class=\"subcategorygradeitem\">\n  </td>\n  <td class=\"weight-2\">\n  </td>\n</tr>\n`;\n\nconst subcategorygradeitemrowhtml = (randomid, subrandomid, gradeitemid, gradeitemname) => `\n<tr data-randomid=\"${randomid}\" data-subrandomid=\"${subrandomid}\" \ndata-gradeitemid=\"${gradeitemid}\" data-rowtype=\"subcategorygradeitem\">\n  <td class=\"subcategorygradeitem\">\n  ${gradeitemname}${removeitemiconhtml(randomid)}\n  </td>\n  <td class=\"weight-2\">\n    <input type=\"number\" name=\"weight-2\" size=\"4\" value=\"1\">\n  </td>\n</tr>\n`;\n/* END: TEMPLATES */\n\n/* START: FUNCTIONS */\n\nconst generateUniqueId = () => {\n    let randomid = null;\n    while (randomid === null || document.getElementById(randomid) !== null) {\n        // generate a 8 chars long random id\n        randomid = Math.random().toString(36).substring(2, 10);\n    }\n    return randomid;\n};\n\n/* START: FUNCTIONS: GRADEITEMS MODAL */\n\nconst getGradeitemsmodalSelectedItems = () => {\n    let gradeitems = gradeitemsmodal.querySelectorAll('input[type=\"checkbox\"]:checked:not(.d-none)');\n    return gradeitems;\n};\n\nconst removeGradeitemsmodalItems = (gradeitems) => {\n    gradeitems.forEach((gradeitem) => {\n        gradeitem.closest('div').classList.add('d-none');\n        gradeitem.checked = false;\n    });\n};\n\nconst addGradeitemsmodalItem = (gradeitemid) => {\n    let gradeitem = gradeitemsmodal.querySelector('[data-id=\"' + gradeitemid + '\"]');\n    gradeitem.closest('div').classList.remove('d-none');\n    gradeitem.checked = false;\n};\n\n/* END: FUNCTIONS: GRADEITEMS MODAL */\n\nconst recalculateRowspans = (randomid) => {\n    // Category\n    var categorytotalItemCount = weightedevaluationtablebody.querySelectorAll('tr[data-randomid=\"' + randomid + '\"]').length;\n    weightedevaluationtablebody.querySelectorAll('tr[data-randomid=\"' + randomid + '\"][data-rowtype=\"category\"] td')\n        .forEach(datacell => {\n            datacell.rowSpan = categorytotalItemCount;\n        });\n\n    // Subcategory\n    weightedevaluationtablebody.querySelectorAll('tr[data-randomid=\"' + randomid + '\"][data-rowtype=\"subcategory\"]')\n        .forEach(row => {\n            let subrandomid = row.dataset.subrandomid;\n            if (!subrandomid) {\n                return;\n            }\n            let subcategorygradeitemsCount = weightedevaluationtablebody.querySelectorAll(\n                'tr[data-rowtype=\"subcategorygradeitem\"][data-subrandomid=\"' + subrandomid + '\"]'\n            ).length;\n            var subcategorycategorytotalItemCount = 1 + subcategorygradeitemsCount;\n            row.querySelectorAll('td').forEach(datacell => {\n                datacell.rowSpan = subcategorycategorytotalItemCount;\n            });\n        });\n};\n\nconst addCategory = (categoryname) => {\n    let randomid = generateUniqueId();\n    let categorynamecontent = categoryname + removeitemiconhtml(randomid);\n    let extradatacells = categoryweightcellhtml;\n\n    let newcategoryrowhtml = categoryrowhtml(randomid, categorynamecontent, extradatacells);\n\n    let newrowshtml = newcategoryrowhtml;\n    newrowshtml += addsubcategorybuttonrowhtml(randomid);\n    newrowshtml += addsubcategorygradeitememptyrowhtml(randomid, \"\");\n\n    let weightedevaluationtablebodylastrow = weightedevaluationtablebody.querySelector('tr:last-child');\n    if (weightedevaluationtablebodylastrow) {\n        weightedevaluationtablebodylastrow.insertAdjacentHTML('afterend', newrowshtml);\n    } else {\n        weightedevaluationtablebody.innerHTML += newrowshtml;\n    }\n\n    let newcategoryrow = weightedevaluationtablebody.querySelector('[data-randomid=\"' + randomid + '\"][data-rowtype=\"category\"]');\n    let newsubcategorybuttonrow = weightedevaluationtablebody.querySelector(\n        '[data-randomid=\"' + randomid + '\"][data-rowtype=\"subcategory\"]'\n    );\n\n    let removeitemicon = newcategoryrow.querySelector('.remove-item-icon');\n    removeitemicon.addEventListener('click', removeCategoryCallback);\n\n    let addsubcategorybutton = newsubcategorybuttonrow.querySelector(\n        'tr[data-randomid=\"' + randomid + '\"] .subcategory .add-subcategory-btn'\n    );\n    addsubcategorybutton.addEventListener('click', addSubcategoryButtonCallback);\n};\n\nconst removeCategory = (randomid) => {\n    let subcategoryrowstodelete = weightedevaluationtablebody.querySelectorAll(\n        'tr[data-rowtype=\"subcategory\"][data-randomid=\"' + randomid + '\"][data-subrandomid]'\n    );\n    subcategoryrowstodelete.forEach(subcategoryrow => {\n        let subrandomid = subcategoryrow.dataset['subrandomid'];\n        removeSubcategory(randomid, subrandomid);\n    });\n\n    let categoryrowstodelete = weightedevaluationtablebody.querySelectorAll('tr[data-randomid=\"' + randomid + '\"]');\n    categoryrowstodelete.forEach(row => row.remove());\n};\n\nconst addSubcategory = (randomid) => {\n    let subrandomid = generateUniqueId();\n    let subcategoryaddbtnrow = weightedevaluationtablebody.querySelector(\n        'tr[data-randomid=\"' + randomid + '\"][data-rowtype=\"subcategory\"] .add-subcategory-btn'\n    ).closest('tr');\n    subcategoryaddbtnrow.insertAdjacentHTML('beforebegin', subcategoryrowhtml(randomid, subrandomid)\n        + addsubcategorygradeitembuttonrowhtml(randomid, subrandomid));\n\n    let newsubcategoryrow = weightedevaluationtablebody.querySelector('' +\n        'tr[data-randomid=\"' + randomid + '\"][data-subrandomid=\"' + subrandomid + '\"][data-rowtype=\"subcategory\"]'\n    );\n\n    let removeitemicon = newsubcategoryrow.querySelector('.remove-item-icon');\n    removeitemicon.addEventListener('click', removeSubcategoryCallback);\n\n    recalculateRowspans(randomid);\n};\n\nconst removeSubcategory = (randomid, subrandomid) => {\n    let subcategorygradeitemrowtodelete = weightedevaluationtablebody.querySelectorAll('' +\n        'tr[data-subrandomid=\"' + subrandomid + '\"][data-gradeitemid][data-rowtype=\"subcategorygradeitem\"]'\n    );\n    subcategorygradeitemrowtodelete.forEach(row => {\n        removeSubcategoryGradeitem(randomid, subrandomid, row.dataset.gradeitemid);\n    });\n    let remainingrowtodelete = weightedevaluationtablebody.querySelectorAll(\n        'tr[data-subrandomid=\"' + subrandomid + '\"][data-rowtype=\"subcategorygradeitem\"]'\n    );\n    remainingrowtodelete.forEach(row => {\n        row.remove();\n    });\n\n    let subcategoryrowtodelete = weightedevaluationtablebody.querySelector(\n        'tr[data-subrandomid=\"' + subrandomid + '\"][data-rowtype=\"subcategory\"]'\n    );\n    subcategoryrowtodelete.remove();\n\n    recalculateRowspans(randomid);\n};\n\nconst addSubcategoryGradeitems = (randomid, subrandomid, gradeitems) => {\n    gradeitems.forEach(gradeitem => {\n        addSubcategoryGradeitem(randomid, subrandomid, gradeitem);\n    });\n};\n\nconst addSubcategoryGradeitem = (randomid, subrandomid, gradeitem) => {\n    let gradeitemid = gradeitem.dataset['id'];\n    let gradeitemname = gradeitem.dataset['displayname'];\n    let subcategorygradeitemaddbtnrow = weightedevaluationtablebody.querySelector(\n        'tr[data-randomid=\"' + randomid + '\"][data-subrandomid=\"' + subrandomid + '\"][data-rowtype=\"subcategorygradeitem\"]' +\n        ' .subcategorygradeitem .add-subcategorygradeitem-btn'\n    ).closest('tr');\n    subcategorygradeitemaddbtnrow.insertAdjacentHTML('beforebegin',\n        subcategorygradeitemrowhtml(randomid, subrandomid, gradeitemid, gradeitemname));\n\n    let newsubcategorygradeitemrow = weightedevaluationtablebody.querySelector(\n        'tr[data-randomid=\"' + randomid + '\"]' +\n        '[data-subrandomid=\"' + subrandomid + '\"][data-rowtype=\"subcategorygradeitem\"][data-gradeitemid=\"' + gradeitemid + '\"]'\n    );\n\n    let removeitemicon = newsubcategorygradeitemrow.querySelector('.remove-item-icon');\n    removeitemicon.addEventListener('click', removeSubcategoryGradeItemCallback);\n\n    recalculateRowspans(randomid);\n};\n\nconst removeSubcategoryGradeitem = (randomid, subrandomid, gradeitemid) => {\n    let subcategorygradeitemrow = weightedevaluationtablebody.querySelector(\n        'tr[data-randomid=\"' + randomid + '\"][data-subrandomid=\"' + subrandomid + '\"]' +\n        '[data-gradeitemid=\"' + gradeitemid + '\"][data-rowtype=\"subcategorygradeitem\"]'\n    );\n    subcategorygradeitemrow.remove();\n\n    addGradeitemsmodalItem(gradeitemid);\n    recalculateRowspans(randomid);\n};\n\n/* END: FUNCTIONS */\n\n/* START: CALLBACKS */\n\nconst addCategoryButtonClickCallback = () => {\n    let categorynameinput = document.getElementById('weightedevaluations-category-create-name');\n    categorynameinput.value = categorynameinput.value.trim();\n    let categoryname = categorynameinput.value;\n    if (categoryname === '') {\n        return;\n    }\n    addCategory(categoryname);\n    categorynameinput.value = '';\n};\n\nconst availableGradeItemsModalShowCallback = (event) => {\n    //@TODO check if all works properly\n    let button = event.relatedTarget;\n    let callerrandomid = button.closest('tr').dataset['randomid'];\n    let gradeitemaddtarget = button.dataset['gradeitemaddtarget'];\n    let gradeitemid = button.closest('td').dataset['gradeitemid'];\n    let callersubrandomid = button.closest('tr').dataset.subrandomid;\n\n    gradeitemsmodal.dataset['gradeitemaddtarget'] = gradeitemaddtarget;\n    gradeitemsmodal.dataset['callerrandomid'] = callerrandomid;\n    gradeitemsmodal.dataset['callersubrandomid'] = callersubrandomid;\n    gradeitemsmodal.dataset['gradeitemid'] = gradeitemid;\n};\n\nconst availableGradeItemsModalConfirmCallback = () => {\n    let gradeitemaddtarget = gradeitemsmodal.dataset['gradeitemaddtarget'];\n\n    let randomid = gradeitemsmodal.dataset['callerrandomid'];\n    let subrandomid = gradeitemsmodal.dataset['callersubrandomid'];\n    let gradeitems = getGradeitemsmodalSelectedItems();\n\n    switch (gradeitemaddtarget) {\n        case 'subcategorygradeitem':\n            addSubcategoryGradeitems(randomid, subrandomid, gradeitems);\n            removeGradeitemsmodalItems(gradeitems);\n            $(gradeitemsmodal).modal('hide');\n            break;\n    }\n};\n\nconst removeCategoryCallback = (event) => {\n    let randomid = event.target.dataset.randomid;\n    removeCategory(randomid);\n};\n\nconst addSubcategoryButtonCallback = (event) => {\n    let randomid = event.target.closest('tr').dataset['randomid'];\n    addSubcategory(randomid);\n};\n\nconst removeSubcategoryCallback = (event) => {\n    let targetrow = event.target.closest('tr');\n    let randomid = targetrow.dataset.randomid;\n    let subrandomid = targetrow.dataset.subrandomid;\n    removeSubcategory(randomid, subrandomid);\n};\n\nconst removeSubcategoryGradeItemCallback = (event) => {\n    let targetrow = event.target.closest('tr');\n    let randomid = targetrow.dataset.randomid;\n    let subrandomid = targetrow.dataset.subrandomid;\n    let gradeitemid = targetrow.dataset.gradeitemid;\n    removeSubcategoryGradeitem(randomid, subrandomid, gradeitemid);\n};\n\nconst submitEvaluations = (event) => {\n    event.preventDefault();\n    let formData = new FormData(event.target);\n    for (let [key, value] of formData.entries()) {\n        //eslint-disable-next-line no-console\n        console.log(key, value);\n    }\n};\n\n/* END: CALLBACKS */\n\n/* START: EVENT LISTENERS DECLARATION */\n\nexport const init = () => {\n    addcategorybtn.addEventListener('click', addCategoryButtonClickCallback);\n    $(gradeitemsmodal).on('show.bs.modal', availableGradeItemsModalShowCallback);\n    gradeitemsmodalacceptbutton.addEventListener('click', availableGradeItemsModalConfirmCallback);\n    evaluationsform.addEventListener('submit', submitEvaluations);\n};\n\n/* END: EVENT LISTENERS DECLARATION */"],"names":["obj","_jquery","__esModule","default","weightedevaluationtablebody","document","getElementById","getElementsByTagName","addcategorybtn","gradeitemsmodal","querySelector","gradeitemsmodalacceptbutton","evaluationsform","removeitemiconhtml","randomid","concat","generateUniqueId","Math","random","toString","substring","recalculateRowspans","categorytotalItemCount","querySelectorAll","length","forEach","datacell","rowSpan","row","subrandomid","dataset","subcategorycategorytotalItemCount","addSubcategory","closest","insertAdjacentHTML","subcategoryrowhtml","addsubcategorygradeitembuttonrowhtml","addEventListener","removeSubcategoryCallback","removeSubcategory","removeSubcategoryGradeitem","gradeitemid","remove","addSubcategoryGradeitem","gradeitem","gradeitemname","subcategorygradeitemrowhtml","removeSubcategoryGradeItemCallback","classList","checked","addGradeitemsmodalItem","addCategoryButtonClickCallback","categorynameinput","value","trim","categoryname","newcategoryrowhtml","categoryrowhtml","extradatacells","newrowshtml","addsubcategorybuttonrowhtml","addsubcategorygradeitememptyrowhtml","weightedevaluationtablebodylastrow","innerHTML","newcategoryrow","newsubcategorybuttonrow","removeCategoryCallback","addSubcategoryButtonCallback","addCategory","availableGradeItemsModalShowCallback","event","button","relatedTarget","callerrandomid","gradeitemaddtarget","callersubrandomid","availableGradeItemsModalConfirmCallback","gradeitems","addSubcategoryGradeitems","add","removeGradeitemsmodalItems","$","modal","subcategoryrow","removeCategory","target","targetrow","submitEvaluations","preventDefault","formData","FormData","key","entries","console","log","_exports","init","on"],"mappings":"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"}